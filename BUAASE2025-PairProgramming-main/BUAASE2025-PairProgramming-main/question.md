# 结对项目：博客问题清单

请将本文件**在代码仓库外复制一份**，一边阅读和完成结对项目、一边填写入**代码仓库外的版本**，或采取简记、语音备忘等方式记载较复杂问题的要点之后再补充。**请不要将本文档内的作答提交到代码仓库。**

## Chapter.0 Belua multorum es capitums.（你是多首的怪物。）

#### 引入

###### **→ 📖 Q0.1(P) 请记录下目前的时间。**



#### 调查

###### **→ 📖 Q0.2(I) 作为本项目的调查：请如实标注在开始项目之前对 Wasm 的熟悉程度分级，可以的话请细化具体的情况。**

> I. 没有听说过；

> II. 仅限于听说过相关名词；

> III. 听说过，且有一定了解；

> IV. 听说过，且使用 Wasm 实际进行过开发（即便是玩具项目的开发）。



#### 总结

###### **→ 📖 Q0.3(P) 请记录下目前的时间。**



## Chapter.1 不畏迷茫，只管前进。（迷子でもいい、前へ進め。）

#### 结对过程

###### **→ 📖 Q1.1(P) 请记录下目前的时间。**



###### **→ 📖 Q1.2(P) 请在完成任务的同时记录，并在完成任务后整理完善：**

> 1. 浏览任务要求，参照 **附录A：基于 PSP 2.1 修改的 PSP 表格**，估计任务预计耗时；
> 2. 完成编程任务期间，依次做了什么（比如查阅了什么资料，随后如何进行了开发，遇到了什么问题，又通过什么方式解决）；

#### 测试

###### **→ 📖 Q1.3(P) 请说明针对该任务，你们设计和实现测试的方法及过程，包括但不限于：出于对需求的哪些考虑设计了哪些测试用例、如何评估所设计测试的有效性 等等。**



###### **→ 📖 Q1.4(I) 请说明<u>单元测试</u>对软件开发的作用。**



#### 总结

###### **→ 📖 Q1.5(P) 请记录下目前的时间，并根据实际情况填写 附录A：基于 PSP 2.1 修改的 PSP 表格 的“实际耗时”栏目。**



###### **→ 📖 Q1.6(I) 请写下本部分的心得体会。**



## Chapter.2 即使迷茫，也要前行。（迷子でもいい、迷子でも進め。）

#### 结对过程

###### **→ 📖 Q2.1(P) 请记录下目前的时间。**



###### **→ 📖 Q2.2(P) 请在完成任务的同时记录，并在完成任务后整理完善：**

> 1. 浏览任务要求，参照 **附录A：基于 PSP 2.1 修改的 PSP 表格**，估计任务预计耗时；
>2. 完成编程任务期间，依次做了什么（比如查阅了什么资料，随后如何进行了开发，遇到了什么问题，又通过什么方式解决）；



#### 代码可复用性与需求变更

###### **→ 📖 Q2.3(P) 请说明针对该任务，你们对 `🧑‍💻 T2` 中已实现的代码进行了哪些复用和修改。**



###### **→ 📖 Q2.4(I) 请说明在编码实现时，可以采取哪些<u>设计思想</u>、考虑哪些<u>设计冗余</u>，来提高既存代码适应需求变更的能力。**



#### 头脑风暴环节

###### **→ 📖 Q2.5(P) **只吃一个食物可满足不了贪吃蛇的欲望，请一起思考并简述以下场景中贪吃蛇的策略：

**在 `🧑‍💻 T2` 的基础上，场地里不再是只有 1 个果子，而是总共有 n 个果子 (1 < n < 10 )，果子随机分布在场地中且不会刷新，保证不与障碍物重叠，保证每个果子均可达，且至少存在一条成功吃掉所有果子的路线，其余条件保持不变，请你找出一条吃完所有果子的行动路径。**



#### 总结

###### **→ 📖 Q2.6(P) 请记录下目前的时间，并根据实际情况填写 附录A：基于 PSP 2.1 修改的 PSP 表格 的“实际耗时”栏目。**



###### **→ 📖 Q2.7(I) 请写下本部分的心得体会。**

## Chapter.3 这就是我的前进、到我出场了！！！！！（It's MyGO!!!!!）

#### 结对过程

###### **→ 📖 Q3.1(P) 请记录下目前的时间。**



###### **→ 📖 Q3.2(P) 请在完成任务的同时记录，并在完成任务后整理完善：**

> 1. 浏览任务要求，参照 **附录A：基于 PSP 2.1 修改的 PSP 表格**，估计任务预计耗时；
>2. 完成编程任务期间，依次做了什么（比如查阅了什么资料，随后如何进行了开发，遇到了什么问题，又通过什么方式解决）；
首先阅读了有关assemblyScript的资料，然后结合第一问的代码先给出了一个简单的版本（直接选一个最近果子，只刨除禁止的方向）。
但是逻辑上考虑到，在蛇数不同的情况下，竞争和生存的要求会发生变化，因此加入了动态判断的策略（两蛇竞争，多蛇生存）。
最后经搭档指出，选单个最近果子的策略可能局限性比较大，因此综合所有最近果子的信息对方向进行考量。


#### 需求建模和算法设计

###### **→ 📖 Q3.3(P) 请说明你们如何<u>建模</u>这一需求。**

任务给出了棋盘中自己蛇的位置，其他蛇的位置，以及果子的坐标等等数据，目的是尽可能吃到更多的果子，因为果子更新速度很快，即便是某一时刻给出一个静态的最短路径，也很快就不会再适用，因此选择最短视的贪心策略，直接去寻找最近的果子们。
在这一任务中，蛇判断方向的依据有以下几个。
1. 该方向能不能尽可能快的吃到果子。
2. 有没有其他蛇的蛇头或第1、2节（因为第四节所在的位置下轮如果没有别的蛇头补上，就一定会空出来，所以看作空气）。
3. 是否躲避其他蛇可能撞击的蛇头。
4. 墙壁，自身阻挡等因素。
5. 为了最大化分数，多人场景下生存较为优先，双人场景下竞争为主要地位。
综合以上信息给出一个方向即可。

###### **→ 📖 Q3.4(P) 请说明针对该任务，你们采取了<u>哪些策略</u>来优化决策。具体而言，怎么避免死亡？怎么吃到更多果子？如何编程实现。**

首先需要计算离蛇头最近的果子，如果有多个，则全部记录下来。
创建一个数组记录四个方向的优越性，对于某一个最近的果子，如果其在蛇头的右上，则右和上各加一分。
对四个方向的分数排序，作为最初判断方向优越性的标准，这样的方法可以尽可能快的吃到一个最近的果子，相较于直接选定一个最近果子，这样的方式在有多个最近果子时，可以给出一个最快接近尽可能多最近果子的方法。并且设想如果有多个最近果子，直接选定一个最近果子的方式给出一个最优方向，但是该方向有第一节蛇身阻挡（或其他蛇）的情况，便会无法判断哪个方向更好，只能勉强从两个垂直方向随机选一个。但是像本算法这样综合其他最近果子的数据的方式，可以在这样的前提下给出一个除阻挡方向以外的较好的方向，使得选择不再那么单一。
然后将蛇头不可以前往的方向，比如第一节蛇身的方向，墙壁（如果靠墙）的方向，其他蛇的蛇头或前两节蛇身所在的位置的方向（如果紧贴蛇头）。
这些方向作为禁止方向，将其首先排除，如果排除后无结果，则说明必死无疑，因此随意选择一个方向结束。
之后对于非禁止的方向判断危险方向，危险方向即如果某个蛇头距离自己的蛇的蛇头只隔一个位置，那么这个蛇可能与蛇头相撞，具体来说如果在右上角有其他蛇的蛇头，则右和上作为危险方向。
如果不存在安全方向，则在危险方向里选择优越性最高的。
否则选择安全方向之中优越性最高的。
对于多蛇场景，生存更重要，因为如果早早和别的蛇同归于尽只会双输，因此优先选择安全方向。
然而如果图中只剩一条其他的蛇，则预判规避对方的头往往会导致能吃到的果子更少，在竞争中处于劣势，因此如果只剩两条蛇则不会考虑危险方向，直接选择非禁止方向中的最优解。这样更可能压制对方的吃果子速度，如果同归于尽也没关系，因为分数往往可能占优。

#### 软件度量

###### **→ 📖 Q3.5(P) 请说明你们如何量度所实现的程序模块的有效性，例如：“如何说明我们的程序模块对弈能力很强？”尝试提出一些可能的定量分析方式。**
考虑到棋盘的随机性很大，少量对局的结果往往不能反映出竞争能力的强弱，因此所有的分析都建立在100局对局的基础上。
1. 首先是判断吃果子的速度，不妨将两个分别以修改前的保守吃果策略和修改后的激进吃果策略的蛇放在一个棋盘之中，测量其胜出的对局，结果激进吃果以62：38胜出
2. 然后判断综合考量最近果子信息是否有优势，将两个保守型且分别以单个贪心和综合贪心为吃果策略的蛇放在一个棋盘之中，综合贪心以55：45胜出。
3. 最后将蛇与某自称小王老师的同学进行对战，两蛇局和四蛇局分别测试了30局，双蛇局大致打平，四蛇局碾压获胜（主要因为多蛇情况下优先生存）。


#### 总结

###### **→ 📖 Q3.6(P) 请记录下目前的时间，并根据实际情况填写 附录A：基于 PSP 2.1 修改的 PSP 表格 的“实际耗时”栏目。**



###### **→ 📖 Q3.7(I) 请写下本部分的心得体会。**



## 结对项目总结

#### 结对过程回顾和反思

###### **→ 📖 Q4.1(P) 提供两人在讨论的结对图像资料。**



###### **→ 📖 Q4.2(P) 回顾结对的过程，反思有哪些可以提升和改进的地方。**



###### **→ 📖 Q4.3(I) 锐评一下你的搭档！并请至少列出三个优点和一个缺点。**



#### 对结对编程的理解

###### **→ 📖 Q4.4(I) 说明结对编程的优缺点、你对结对编程的理解。**



#### 代码实现提交

###### **→ 📖 Q4.5(P) 请提供你们完成代码实现的代码仓库链接。**



## 附录

### 附录A：基于 PSP 2.1 修改的 PSP 表格

| Personal Software Process Stages   | 个人软件开发流程 | 预估耗时（分钟）                         | 实际耗时（分钟） |
| :-------------------------------------- | :--------------------------------------- | :--------------- | :--------- |
| **PLANNING**                      | **计划**                                 |                  |  |
| - Estimate                              | - 估计这个任务需要多少时间               |                  |  |
| **DEVELOPMENT**           | **开发**                                 |                  |  |
| - Analysis & Design Spec                | - 需求分析 & 生成设计规格（确定要实现什么） |                  |  |
| - Technical Background       | - 了解技术背景（包括学习新技术） |                  |  |
| - Coding Standard                       | - 代码规范 |                  |  |
| - Design                               | - 具体设计（确定怎么实现）                   |                  |  |
| - Coding                                | - 具体编码                        |                  |  |
| - Code Review                           | - 代码复审                               |                  |  |
| - Test Design                           | - 测试设计（确定怎么测，比如要测试哪些情景、设计哪些种类的测试用例） |                  |  |
| - Test Implement | - 测试实现（设计/生成具体的测试用例、编码实现测试） | | |
| **REPORTING**                  | **报告**                                 |                  |  |
| - Quality Report                   | - 质量报告（评估设计、实现、测试的有效性） |                  |  |
| - Size Measurement                      | - 计算工作量                             |                  |  |
| - Postmortem & Process Improvement Plan | - 事后总结和过程改进计划（总结过程中的问题和改进点） |                  |  |
| **TOTAL** | **合计**                                 |                  |  |
